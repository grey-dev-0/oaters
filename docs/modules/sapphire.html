<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Sapphire Module | OATERS</title>
    <meta name="description" content="A comprehensive, modular Enterprise Resource Planning system built with Laravel">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/oaters/assets/style.BqFhM9kI.css" as="style">
    <link rel="preload stylesheet" href="/oaters/vp-icons.css" as="style">
    
    <script type="module" src="/oaters/assets/app.BgdBGZ5z.js"></script>
    <link rel="preload" href="/oaters/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/oaters/assets/chunks/theme.BSKZya-d.js">
    <link rel="modulepreload" href="/oaters/assets/chunks/framework.MXlVYeMd.js">
    <link rel="modulepreload" href="/oaters/assets/modules_sapphire.md.Dggkx61c.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/oaters/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>OATERS</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/oaters/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Home</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-dc692963 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><!----><span data-v-cf11d7a2>Modules</span><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/oaters/modules/lava-common.html" data-v-35975db6><!--[--><span data-v-35975db6>Lava - Common Modules</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/oaters/modules/onyx.html" data-v-35975db6><!--[--><span data-v-35975db6>Onyx - Manufacturing</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/oaters/modules/amethyst.html" data-v-35975db6><!--[--><span data-v-35975db6>Amethyst - E-commerce</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/oaters/modules/topaz.html" data-v-35975db6><!--[--><span data-v-35975db6>Topaz - Finance</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/oaters/modules/emerald.html" data-v-35975db6><!--[--><span data-v-35975db6>Emerald - Projects</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/oaters/modules/ruby.html" data-v-35975db6><!--[--><span data-v-35975db6>Ruby - Human Resources</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link active" href="/oaters/modules/sapphire.html" data-v-35975db6><!--[--><span data-v-35975db6>Sapphire - Auth & Tenancy</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-dc692963 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><!----><span data-v-cf11d7a2>Development</span><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/oaters/development/getting-started-frontend.html" data-v-35975db6><!--[--><span data-v-35975db6>Getting Started</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/oaters/development/frontend-architecture.html" data-v-35975db6><!--[--><span data-v-35975db6>Frontend Architecture</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/oaters/development/component-development.html" data-v-35975db6><!--[--><span data-v-35975db6>Component Development</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/oaters/database/" data-v-35975db6><!--[--><span data-v-35975db6>Database Structure</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/grey-dev-0/oaters" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/grey-dev-0/oaters" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Getting Started</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>About OATERS</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible collapsed has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Business Modules</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/modules/lava-common.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Lava - Common Modules</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/modules/onyx.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Onyx - Manufacturing (Coming Soon)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/modules/amethyst.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Amethyst - E-commerce (Coming Soon)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/modules/topaz.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Topaz - Finance (Coming Soon)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/modules/emerald.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Emerald - Projects (Coming Soon)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/modules/ruby.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Ruby - Human Resources</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/modules/sapphire.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Sapphire - Auth & Tenancy</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible collapsed" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Development Guide</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/development/getting-started-frontend.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Getting Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/development/frontend-architecture.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Frontend Architecture</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>Component Development</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/development/component-development.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Overview</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 collapsible collapsed" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h4 class="text" data-v-b3fd67f8>Simple Components</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-3 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/components/alert.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Alert</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/components/autocomplete.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Autocomplete</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/components/avatar.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Avatar</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/components/card.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Card</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/components/chart.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Chart</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/components/counter.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Counter</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/components/loader.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Loader</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/components/modal.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Modal</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/components/org-chart.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>OrgChart</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h4 class="text" data-v-b3fd67f8>Component Bundles</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-3 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/components/navbar.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Navbar</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/components/breadcrumb.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Breadcrumb</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/components/datatable.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>DataTable</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/components/table.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Table</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/components/tab.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Tab</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/components/timeline.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Timeline</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/components/list.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>List</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/components/form.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Form</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>Database Structure</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/database/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/database/core-diagram.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>SaaS Core</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/database/article-diagram.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Lava Article</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/database/commerce-diagram.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Lava Commerce</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/database/common-diagram.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Lava Common</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/database/onyx-diagram.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Onyx</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/database/amethyst-diagram.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Amethyst</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/database/topaz-diagram.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Topaz (Coming Soon)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/database/emerald-diagram.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Emerald</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/database/ruby-diagram.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Ruby</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/database/sapphire-diagram.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Sapphire</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oaters/database/database-diagram.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Complete Schema</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _oaters_modules_sapphire" data-v-39a288b8><div><h1 id="sapphire-module" tabindex="-1">Sapphire Module <a class="header-anchor" href="#sapphire-module" aria-label="Permalink to &quot;Sapphire Module&quot;">​</a></h1><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p><strong>Sapphire</strong> is the foundational module of the OATERS ERP system, providing centralized authentication, authorization, multi-tenancy, and user management capabilities. As the security and access control hub, Sapphire manages all tenant organizations, their subscriptions to other modules, and user permissions across the entire system.</p><h2 id="business-functionality" tabindex="-1">Business Functionality <a class="header-anchor" href="#business-functionality" aria-label="Permalink to &quot;Business Functionality&quot;">​</a></h2><h3 id="core-features" tabindex="-1">Core Features <a class="header-anchor" href="#core-features" aria-label="Permalink to &quot;Core Features&quot;">​</a></h3><h4 id="_1-multi-tenancy-management" tabindex="-1">1. Multi-Tenancy Management <a class="header-anchor" href="#_1-multi-tenancy-management" aria-label="Permalink to &quot;1. Multi-Tenancy Management&quot;">​</a></h4><ul><li><strong>Tenant Registration</strong>: Onboard new business organizations to the OATERS platform</li><li><strong>Tenant Isolation</strong>: Complete data separation between different organizations</li><li><strong>Tenant Configuration</strong>: Customize settings and preferences per tenant</li><li><strong>Tenant Dashboard</strong>: Super admin overview of all registered tenants</li><li><strong>Tenant Authentication</strong>: Tenants can authenticate as super-admin users to manage their organization</li></ul><h4 id="_2-subscription-management" tabindex="-1">2. Subscription Management <a class="header-anchor" href="#_2-subscription-management" aria-label="Permalink to &quot;2. Subscription Management&quot;">​</a></h4><ul><li><strong>Module Subscriptions</strong>: Tenants can subscribe to specific modules (Onyx, Amethyst, Topaz, Emerald, Ruby)</li><li><strong>Subscription Plans</strong>: Different pricing tiers and feature sets</li><li><strong>Purchase Tracking</strong>: Record and manage module purchases</li><li><strong>Subscription Lifecycle</strong>: Handle activations, renewals, and cancellations</li></ul><h4 id="_3-user-management" tabindex="-1">3. User Management <a class="header-anchor" href="#_3-user-management" aria-label="Permalink to &quot;3. User Management&quot;">​</a></h4><ul><li><strong>User Registration</strong>: Create user accounts within tenant organizations</li><li><strong>User Profiles</strong>: Manage user information and preferences</li><li><strong>Contact Integration</strong>: Users link to Contact records from Common module for extended information</li><li><strong>User Status</strong>: Active, inactive, suspended user states</li></ul><h4 id="_4-role-based-access-control-rbac" tabindex="-1">4. Role-Based Access Control (RBAC) <a class="header-anchor" href="#_4-role-based-access-control-rbac" aria-label="Permalink to &quot;4. Role-Based Access Control (RBAC)&quot;">​</a></h4><ul><li><strong>Role Definition</strong>: Create custom roles with specific permissions</li><li><strong>Multi-language Support</strong>: Role names in multiple languages via translation system</li><li><strong>Permission Assignment</strong>: Granular permission control using Spatie Permission</li><li><strong>Role Assignment</strong>: Assign roles to users and tenants for access control</li></ul><h4 id="_5-authentication-authorization" tabindex="-1">5. Authentication &amp; Authorization <a class="header-anchor" href="#_5-authentication-authorization" aria-label="Permalink to &quot;5. Authentication &amp; Authorization&quot;">​</a></h4><ul><li><strong>Dual Authentication</strong>: Separate authentication for super-admin tenants and tenant-level users</li><li><strong>Secure Login</strong>: Tenant-aware authentication system</li><li><strong>Session Management</strong>: Secure session handling across modules</li><li><strong>Password Management</strong>: Reset, recovery, and security policies</li><li><strong>API Authentication</strong>: Token-based authentication for API access</li></ul><h2 id="technical-architecture" tabindex="-1">Technical Architecture <a class="header-anchor" href="#technical-architecture" aria-label="Permalink to &quot;Technical Architecture&quot;">​</a></h2><h3 id="technology-stack" tabindex="-1">Technology Stack <a class="header-anchor" href="#technology-stack" aria-label="Permalink to &quot;Technology Stack&quot;">​</a></h3><ul><li><strong>Framework</strong>: Laravel 10+</li><li><strong>Module System</strong>: nwidart/laravel-modules (^10.0)</li><li><strong>Multi-tenancy</strong>: stancl/tenancy (^3.8)</li><li><strong>Permission System</strong>: spatie/laravel-permission (^6.4)</li><li><strong>Localization</strong>: astrotomic/laravel-translatable (^11.12)</li><li><strong>Database</strong>: MySQL/PostgreSQL with tenant-specific databases</li><li><strong>Authentication</strong>: Laravel Sanctum/Passport</li></ul><h3 id="database-schema" tabindex="-1">Database Schema <a class="header-anchor" href="#database-schema" aria-label="Permalink to &quot;Database Schema&quot;">​</a></h3><h4 id="core-models" tabindex="-1">Core Models <a class="header-anchor" href="#core-models" aria-label="Permalink to &quot;Core Models&quot;">​</a></h4><p><strong>Tenant Model</strong> (<code>Tenant.php</code>)</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Represents a super-admin tenant organization</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Extends Stancl\Tenancy\Database\Models\Tenant</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Implements: Authenticatable, Authorizable, CanResetPassword</span></span></code></pre></div><p>Key Features:</p><ul><li>Tenants are authenticatable users (can login as super-admin)</li><li>Uses traits: <code>Authenticatable</code>, <code>Authorizable</code>, <code>CanResetPassword</code>, <code>MustVerifyEmail</code>, <code>HasDatabase</code>, <code>HasDomains</code>, <code>HasRoles</code></li><li>Custom columns: <code>id</code>, <code>user_id</code>, <code>name</code>, <code>email</code>, <code>password</code>, <code>hash</code></li></ul><p>Schema:</p><ul><li>id: Primary key (auto-increment)</li><li>user_id: Associated user ID</li><li>name: Organization name</li><li>email: Contact email</li><li>password: Hashed password for authentication</li><li>hash: Security hash</li><li>created_at, updated_at</li></ul><p>Relationships:</p><ul><li><code>subscriptions()</code>: hasMany(Subscription)</li></ul><p><strong>User Model</strong> (<code>User.php</code>)</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Tenant-level users who access the system</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Table: s_users</span></span></code></pre></div><p>Schema:</p><ul><li>id: Primary key (auto-increment)</li><li>username: User login name</li><li>password: Hashed password (100 chars)</li><li>image: Profile image path (nullable)</li><li>created_at, updated_at</li></ul><p>Relationships:</p><ul><li><code>contact()</code>: hasOne(Contact) - Links to Common module Contact for extended info</li></ul><p>Features:</p><ul><li>Uses <code>HasFactory</code> and <code>HasRoles</code> traits</li><li>Integrates with Spatie Permission for role management</li><li>Links to Common module Contact for additional user information</li></ul><p><strong>Role Model</strong> (<code>Role.php</code>)</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// User roles for permission management</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Extends Spatie\Permission\Models\Role</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Table: roles (from Spatie Permission)</span></span></code></pre></div><p>Features:</p><ul><li>Uses <code>Translatable</code> trait from Astrotomic</li><li>Translated attribute: <code>title</code></li><li>Inherits all Spatie Permission functionality</li></ul><p>Schema (from Spatie Permission migration):</p><ul><li>id: Primary key</li><li>name: Role identifier (slug)</li><li>guard_name: Authentication guard</li><li>team_foreign_key: For team support (nullable)</li><li>created_at, updated_at</li></ul><p>Relationships:</p><ul><li><code>translations()</code>: hasMany(RoleLocale) - via Astrotomic Translatable</li><li>Plus all Spatie Permission relationships (permissions, users, etc.)</li></ul><p><strong>RoleLocale Model</strong> (<code>RoleLocale.php</code>)</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Localized role information</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Table: role_locales (singular: role_locales)</span></span></code></pre></div><p>Schema:</p><ul><li>id: Primary key</li><li>role_id: Foreign key to roles</li><li>locale: Language code (en, ar, etc.) - 2 chars</li><li>title: Translated role name</li></ul><p>Relationships:</p><ul><li><code>role()</code>: belongsTo(Role)</li></ul><p><strong>Module Model</strong> (<code>Module.php</code>)</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Available OATERS modules for subscription</span></span></code></pre></div><p>Schema:</p><ul><li>id: Primary key</li><li>name: Module name (Onyx, Amethyst, Topaz, Emerald, Ruby)</li><li>slug: Module identifier</li><li>description: Module description</li><li>price: Base subscription price</li><li>status: active/inactive</li><li>No timestamps</li></ul><p>Relationships:</p><ul><li><code>subscriptions()</code>: belongsToMany(Subscription) via <code>tenant_modules</code> pivot</li></ul><p><strong>Subscription Model</strong> (<code>Subscription.php</code>)</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Tenant subscriptions to modules</span></span></code></pre></div><p>Schema:</p><ul><li>id: Primary key</li><li>tenant_id: Foreign key to tenants</li><li>status: active/expired/cancelled</li><li>start_date: Subscription start</li><li>end_date: Subscription expiry</li><li>created_at, updated_at</li></ul><p>Relationships:</p><ul><li><code>tenant()</code>: belongsTo(Tenant)</li><li><code>modules()</code>: belongsToMany(Module) via <code>tenant_modules</code> pivot table</li></ul><p><strong>Purchase Model</strong> (<code>Purchase.php</code>)</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Purchase transactions for subscriptions</span></span></code></pre></div><p>Schema:</p><ul><li>id: Primary key</li><li>subscription_id: Foreign key to subscriptions</li><li>amount: Purchase amount</li><li>payment_method: Payment type</li><li>status: pending/completed/failed</li><li>created_at, updated_at</li></ul><p>Relationships:</p><ul><li><code>subscription()</code>: belongsTo(Subscription)</li></ul><h2 id="directory-structure" tabindex="-1">Directory Structure <a class="header-anchor" href="#directory-structure" aria-label="Permalink to &quot;Directory Structure&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Modules/Sapphire/</span></span>
<span class="line"><span>├── App/</span></span>
<span class="line"><span>│   ├── Http/</span></span>
<span class="line"><span>│   │   ├── Controllers/</span></span>
<span class="line"><span>│   │   │   ├── Admin/</span></span>
<span class="line"><span>│   │   │   │   ├── DashboardController.php</span></span>
<span class="line"><span>│   │   │   │   ├── ModuleController.php</span></span>
<span class="line"><span>│   │   │   │   ├── PurchaseController.php</span></span>
<span class="line"><span>│   │   │   │   └── TenantController.php</span></span>
<span class="line"><span>│   │   │   └── User/</span></span>
<span class="line"><span>│   │   │       └── ModuleController.php</span></span>
<span class="line"><span>│   │   └── Middleware/           # Module-specific middleware</span></span>
<span class="line"><span>│   ├── Models/                   # Eloquent models</span></span>
<span class="line"><span>│   │   ├── Tenant.php</span></span>
<span class="line"><span>│   │   ├── User.php</span></span>
<span class="line"><span>│   │   ├── Role.php</span></span>
<span class="line"><span>│   │   ├── RoleLocale.php</span></span>
<span class="line"><span>│   │   ├── Module.php</span></span>
<span class="line"><span>│   │   ├── Subscription.php</span></span>
<span class="line"><span>│   │   └── Purchase.php</span></span>
<span class="line"><span>│   └── Providers/                # Service providers</span></span>
<span class="line"><span>│       └── ModuleServiceProvider.php</span></span>
<span class="line"><span>├── Database/</span></span>
<span class="line"><span>│   ├── factories/                # Model factories</span></span>
<span class="line"><span>│   ├── migrations/               # Database migrations</span></span>
<span class="line"><span>│   │   ├── 2024_04_02_104130_sapphire_base.php</span></span>
<span class="line"><span>│   │   └── 2024_04_09_191538_sapphire_permissions.php</span></span>
<span class="line"><span>│   └── seeders/                  # Database seeders</span></span>
<span class="line"><span>├── resources/</span></span>
<span class="line"><span>│   ├── views/                    # Blade templates</span></span>
<span class="line"><span>│   └── lang/                     # Translations</span></span>
<span class="line"><span>│       └── en/</span></span>
<span class="line"><span>├── routes/</span></span>
<span class="line"><span>│   ├── web.php                   # Web routes</span></span>
<span class="line"><span>│   └── api.php                   # API routes</span></span>
<span class="line"><span>├── config/</span></span>
<span class="line"><span>│   └── config.php                # Module configuration</span></span>
<span class="line"><span>└── module.json                   # Module metadata</span></span></code></pre></div><h2 id="key-relationships" tabindex="-1">Key Relationships <a class="header-anchor" href="#key-relationships" aria-label="Permalink to &quot;Key Relationships&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Tenant (1) ─────── (N) Subscriptions</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Subscription (N) ─────── (N) Modules (via tenant_modules pivot)</span></span>
<span class="line"><span>Subscription (1) ─────── (N) Purchases</span></span>
<span class="line"><span></span></span>
<span class="line"><span>User (1) ─────── (1) Contact (Common module)</span></span>
<span class="line"><span>User (N) ─────── (N) Roles (via Spatie Permission)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Role (1) ─────── (N) RoleLocale</span></span>
<span class="line"><span>Role (N) ─────── (N) Permissions (via Spatie Permission)</span></span>
<span class="line"><span>Role (N) ─────── (N) Users (via Spatie Permission)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Tenant (1) ─────── (N) Roles (via Spatie Permission HasRoles trait)</span></span></code></pre></div><h2 id="tenancy-implementation" tabindex="-1">Tenancy Implementation <a class="header-anchor" href="#tenancy-implementation" aria-label="Permalink to &quot;Tenancy Implementation&quot;">​</a></h2><p>Sapphire uses <code>stancl/tenancy</code> for multi-tenancy:</p><ol><li><strong>Tenant Identification</strong>: By subdomain or domain</li><li><strong>Database Separation</strong>: Each tenant has isolated database</li><li><strong>Automatic Tenant Context</strong>: Middleware ensures tenant-specific data access</li><li><strong>Central Database</strong>: Stores tenant information and global data</li><li><strong>Tenant Authentication</strong>: Tenants can authenticate as super-admins to manage their organization</li></ol><h2 id="permission-system" tabindex="-1">Permission System <a class="header-anchor" href="#permission-system" aria-label="Permalink to &quot;Permission System&quot;">​</a></h2><p>Uses <strong>Spatie Permission</strong> package for RBAC:</p><ol><li><strong>Roles</strong>: Defined with localized names via Astrotomic Translatable</li><li><strong>Permissions</strong>: Granular permissions assigned to roles</li><li><strong>Guards</strong>: Support for multiple authentication guards</li><li><strong>Teams</strong>: Optional team-based permissions</li><li><strong>Direct Permissions</strong>: Can assign permissions directly to users/tenants</li></ol><h2 id="how-other-modules-use-sapphire" tabindex="-1">How Other Modules Use Sapphire <a class="header-anchor" href="#how-other-modules-use-sapphire" aria-label="Permalink to &quot;How Other Modules Use Sapphire&quot;">​</a></h2><p>All other modules (Onyx, Amethyst, Topaz, Emerald, Ruby) depend on Sapphire for:</p><ol><li><strong>Authentication</strong>: User login and session management</li><li><strong>Authorization</strong>: Permission checks via Spatie Permission</li><li><strong>Tenant Context</strong>: Automatic data scoping to current tenant</li><li><strong>User Information</strong>: Access to user profiles</li><li><strong>Contact Integration</strong>: Extended user information via Common module Contact</li></ol><h3 id="example-integration" tabindex="-1">Example Integration <a class="header-anchor" href="#example-integration" aria-label="Permalink to &quot;Example Integration&quot;">​</a></h3><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// In any module controller</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">use</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Modules\Sapphire\App\Models\User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">use</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Modules\Sapphire\App\Models\Tenant</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get current tenant</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$tenant </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Tenant</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">current</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get current user</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$user </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> auth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Check permission (via Spatie Permission)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ($user</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">can</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;manage-inventory&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Allow access to Onyx inventory features</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get user&#39;s contact information</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$contact </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $user</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">contact;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Check role</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ($user</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hasRole</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;admin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Admin-specific logic</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="integration-with-common-module" tabindex="-1">Integration with Common Module <a class="header-anchor" href="#integration-with-common-module" aria-label="Permalink to &quot;Integration with Common Module&quot;">​</a></h2><p>Sapphire&#39;s User model integrates with the Common module&#39;s Contact model:</p><ul><li>Users have a one-to-one relationship with Contact</li><li>Contact stores extended information (phones, emails, addresses, etc.)</li><li>This separation allows for flexible user management</li><li>Contact can be shared across multiple modules (e.g., Ruby for employees)</li></ul><h2 id="api-endpoints" tabindex="-1">API Endpoints <a class="header-anchor" href="#api-endpoints" aria-label="Permalink to &quot;API Endpoints&quot;">​</a></h2><h3 id="admin-routes" tabindex="-1">Admin Routes <a class="header-anchor" href="#admin-routes" aria-label="Permalink to &quot;Admin Routes&quot;">​</a></h3><ul><li>Tenant management (CRUD)</li><li>Module management</li><li>Purchase tracking</li><li>Dashboard statistics</li></ul><h3 id="user-routes" tabindex="-1">User Routes <a class="header-anchor" href="#user-routes" aria-label="Permalink to &quot;User Routes&quot;">​</a></h3><ul><li>Module subscription browsing</li><li>User profile management</li><li>Role and permission viewing</li></ul><h2 id="security-considerations" tabindex="-1">Security Considerations <a class="header-anchor" href="#security-considerations" aria-label="Permalink to &quot;Security Considerations&quot;">​</a></h2><ol><li><strong>Password Hashing</strong>: All passwords use Laravel&#39;s bcrypt hashing</li><li><strong>Password Reset</strong>: Secure token-based password recovery</li><li><strong>Email Verification</strong>: Optional email verification for users/tenants</li><li><strong>Role-Based Access</strong>: Granular control over features and data</li><li><strong>Tenant Isolation</strong>: Complete data separation between organizations</li><li><strong>Session Security</strong>: Secure session handling with CSRF protection</li><li><strong>API Authentication</strong>: Token-based auth for API access</li></ol><h2 id="development-notes" tabindex="-1">Development Notes <a class="header-anchor" href="#development-notes" aria-label="Permalink to &quot;Development Notes&quot;">​</a></h2><ul><li><strong>Priority</strong>: 0 (highest - loads first)</li><li><strong>Alias</strong>: sapphire</li><li><strong>Service Provider</strong>: <code>Modules\Sapphire\App\Providers\ModuleServiceProvider</code></li><li><strong>Dependencies</strong>: Common module (for Contact integration)</li><li><strong>Required Packages</strong>: stancl/tenancy, spatie/laravel-permission, astrotomic/laravel-translatable</li></ul></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/oaters/modules/ruby.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>Ruby - Human Resources</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/oaters/development/getting-started-frontend.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>Getting Started</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>Built with ❤️ using Laravel and VitePress</p><p class="copyright" data-v-e315a0ad>Version 1.0.0 (Under Development)</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"components_alert.md\":\"mZLyqqf8\",\"components_autocomplete.md\":\"CeAiHJgB\",\"components_avatar.md\":\"DmgsST3v\",\"components_breadcrumb.md\":\"DGbu15cl\",\"components_card.md\":\"BRPa1iCn\",\"components_chart.md\":\"CJmRIBmN\",\"components_counter.md\":\"CmeZ42tk\",\"components_datatable.md\":\"BiqUm8d1\",\"components_form.md\":\"Ca5D9e7t\",\"components_list.md\":\"WhGRW_kt\",\"components_loader.md\":\"BCU6CcAN\",\"components_modal.md\":\"uaWZsBCQ\",\"components_navbar.md\":\"Dx77sED8\",\"components_org-chart.md\":\"D8tuvsa0\",\"components_tab.md\":\"Dg14xpda\",\"components_table.md\":\"Aurud1RV\",\"components_timeline.md\":\"CghbbwIh\",\"database_amethyst-diagram.md\":\"BjHyiqde\",\"database_article-diagram.md\":\"CtBaA39w\",\"database_commerce-diagram.md\":\"vsh6FesQ\",\"database_common-diagram.md\":\"Dhw5gKhk\",\"database_core-diagram.md\":\"CLJlKko9\",\"database_database-diagram.md\":\"CBB67j3F\",\"database_emerald-diagram.md\":\"BbbkpfJg\",\"database_index.md\":\"Cn02XF2E\",\"database_onyx-diagram.md\":\"Dao-MSaE\",\"database_ruby-diagram.md\":\"BOk4ftPJ\",\"database_sapphire-diagram.md\":\"BDDSwUlS\",\"development_component-development.md\":\"Bnqgih3R\",\"development_frontend-architecture.md\":\"BG8gjU36\",\"development_getting-started-frontend.md\":\"D7WliCpk\",\"index.md\":\"CqPCq-z4\",\"modules_amethyst.md\":\"D0YsJ-fS\",\"modules_emerald.md\":\"C3UKdt5H\",\"modules_lava-common.md\":\"fhbGg5fL\",\"modules_onyx.md\":\"CTFurwlI\",\"modules_ruby.md\":\"CPIV-I7G\",\"modules_sapphire.md\":\"Dggkx61c\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"OATERS\",\"description\":\"A comprehensive, modular Enterprise Resource Planning system built with Laravel\",\"base\":\"/oaters/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Modules\",\"items\":[{\"text\":\"Lava - Common Modules\",\"link\":\"/modules/lava-common\"},{\"text\":\"Onyx - Manufacturing\",\"link\":\"/modules/onyx\"},{\"text\":\"Amethyst - E-commerce\",\"link\":\"/modules/amethyst\"},{\"text\":\"Topaz - Finance\",\"link\":\"/modules/topaz\"},{\"text\":\"Emerald - Projects\",\"link\":\"/modules/emerald\"},{\"text\":\"Ruby - Human Resources\",\"link\":\"/modules/ruby\"},{\"text\":\"Sapphire - Auth & Tenancy\",\"link\":\"/modules/sapphire\"}]},{\"text\":\"Development\",\"items\":[{\"text\":\"Getting Started\",\"link\":\"/development/getting-started-frontend\"},{\"text\":\"Frontend Architecture\",\"link\":\"/development/frontend-architecture\"},{\"text\":\"Component Development\",\"link\":\"/development/component-development\"},{\"text\":\"Database Structure\",\"link\":\"/database/\"}]}],\"sidebar\":[{\"text\":\"Getting Started\",\"items\":[{\"text\":\"About OATERS\",\"link\":\"/\"}]},{\"text\":\"Business Modules\",\"collapsed\":true,\"items\":[{\"text\":\"Lava - Common Modules\",\"link\":\"/modules/lava-common\"},{\"text\":\"Onyx - Manufacturing (Coming Soon)\",\"link\":\"/modules/onyx\"},{\"text\":\"Amethyst - E-commerce (Coming Soon)\",\"link\":\"/modules/amethyst\"},{\"text\":\"Topaz - Finance (Coming Soon)\",\"link\":\"/modules/topaz\"},{\"text\":\"Emerald - Projects (Coming Soon)\",\"link\":\"/modules/emerald\"},{\"text\":\"Ruby - Human Resources\",\"link\":\"/modules/ruby\"},{\"text\":\"Sapphire - Auth & Tenancy\",\"link\":\"/modules/sapphire\"}]},{\"text\":\"Development Guide\",\"collapsed\":true,\"items\":[{\"text\":\"Getting Started\",\"link\":\"/development/getting-started-frontend\"},{\"text\":\"Frontend Architecture\",\"link\":\"/development/frontend-architecture\"},{\"text\":\"Component Development\",\"collapsed\":true,\"items\":[{\"text\":\"Overview\",\"link\":\"/development/component-development\"},{\"text\":\"Simple Components\",\"collapsed\":true,\"items\":[{\"text\":\"Alert\",\"link\":\"/components/alert\"},{\"text\":\"Autocomplete\",\"link\":\"/components/autocomplete\"},{\"text\":\"Avatar\",\"link\":\"/components/avatar\"},{\"text\":\"Card\",\"link\":\"/components/card\"},{\"text\":\"Chart\",\"link\":\"/components/chart\"},{\"text\":\"Counter\",\"link\":\"/components/counter\"},{\"text\":\"Loader\",\"link\":\"/components/loader\"},{\"text\":\"Modal\",\"link\":\"/components/modal\"},{\"text\":\"OrgChart\",\"link\":\"/components/org-chart\"}]},{\"text\":\"Component Bundles\",\"collapsed\":true,\"items\":[{\"text\":\"Navbar\",\"link\":\"/components/navbar\"},{\"text\":\"Breadcrumb\",\"link\":\"/components/breadcrumb\"},{\"text\":\"DataTable\",\"link\":\"/components/datatable\"},{\"text\":\"Table\",\"link\":\"/components/table\"},{\"text\":\"Tab\",\"link\":\"/components/tab\"},{\"text\":\"Timeline\",\"link\":\"/components/timeline\"},{\"text\":\"List\",\"link\":\"/components/list\"},{\"text\":\"Form\",\"link\":\"/components/form\"}]}]},{\"text\":\"Database Structure\",\"collapsed\":true,\"items\":[{\"text\":\"Overview\",\"link\":\"/database/\"},{\"text\":\"SaaS Core\",\"link\":\"/database/core-diagram\"},{\"text\":\"Lava Article\",\"link\":\"/database/article-diagram\"},{\"text\":\"Lava Commerce\",\"link\":\"/database/commerce-diagram\"},{\"text\":\"Lava Common\",\"link\":\"/database/common-diagram\"},{\"text\":\"Onyx\",\"link\":\"/database/onyx-diagram\"},{\"text\":\"Amethyst\",\"link\":\"/database/amethyst-diagram\"},{\"text\":\"Topaz (Coming Soon)\",\"link\":\"/database/topaz-diagram\"},{\"text\":\"Emerald\",\"link\":\"/database/emerald-diagram\"},{\"text\":\"Ruby\",\"link\":\"/database/ruby-diagram\"},{\"text\":\"Sapphire\",\"link\":\"/database/sapphire-diagram\"},{\"text\":\"Complete Schema\",\"link\":\"/database/database-diagram\"}]}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/grey-dev-0/oaters\"}],\"search\":{\"provider\":\"local\"},\"footer\":{\"message\":\"Built with ❤️ using Laravel and VitePress\",\"copyright\":\"Version 1.0.0 (Under Development)\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>