(function(){var t=Vue.createApp({data:function(){return{emitter:null,openUser:{id:0,name:null}}},methods:{renderAmount:function(t){return"$"+t},renderExecuted:function(t){return t==1?locale.common.yes:locale.common.no},renderPaidAt:function(t){return t["executed"]==1?t["updated_at"]:locale.common.unpaid},onDatatableDraw:function(){$("#tenants-table").find(".modules").each(function(){if($(this).attr("data-id")=="")$(this).addClass("disabled")})},moduleColor:function(t){switch(t){case"amethyst":return"info";case"topaz":return"warning";case"emerald":return"success";case"ruby":return"danger";case"sapphire":return"primary";default:return"secondary"}}},computed:{dataTable:function(){return this.$refs.tenantsTable.dataTable},paymentsModal:function(){return this.$refs.paymentsModal},paymentsTable:function(){return this.$refs.paymentsTable}}});loadComponents(t,"tenants");var s=t.mount("#app");$("body").on("click","#tenants-table .payments",function(){var a=$(this);s.paymentsModal.show(function(){var t=s.dataTable.row(a.closest("tr")).data();s.openUser={id:t["id"],name:t["name"]};s.$nextTick(function(){s.paymentsTable.init()})})}).on("click","#tenants-table .modules",function(){if($(this).hasClass("disabled"))return;var t=$(this).closest("tr");var a=s.dataTable.row(t);if(a.child.isShown())a.child.hide();else{var n=$(this).attr("data-id");var e=$("<tr/>").append('<td class="bg-sky-10"><strong>'+locale.common.modules+'</strong></td><td class="bg-sky-10" colspan="'+(t.find("td").length-1)+'" data-subscription-id="'+n+'"><i class="fas fa-spin fa-spinner"></i></td>');a.child(e).show();$.ajax({url:window.baseUrl+"/subscriptions/"+n+"/modules",type:"GET",success:function(t){var a=$('[data-subscription-id="'+n+'"]'),e;a.empty();t.modules.forEach(function(t){e=s.moduleColor(t);a.append('<div class="badge badge-'+e+'">'+t+"</div> ")})}})}})})();